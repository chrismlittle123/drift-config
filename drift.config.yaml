# Drift Configuration for chrismlittle123

# Repositories to exclude from scanning
exclude:
  - "drift-config"
  - "chrismlittle123"
  - "standards-community"
  - "*-template"
  - "*.github.io"

scans:
  # Required files
  - name: has-readme
    command: test -f README.md

  - name: has-license
    command: test -f LICENSE || test -f LICENSE.md

  - name: has-gitignore
    command: test -f .gitignore

  # Security - no secrets committed
  - name: no-env-files
    command: "! ls .env .env.local .env.production 2>/dev/null | grep -q ."

  # Node.js projects must have a lock file
  - name: has-lockfile
    command: test -f package-lock.json || test -f yarn.lock || test -f pnpm-lock.yaml || test -f bun.lockb
    if: package.json

  # --- CODEOWNERS Protection ---
  # Verify CODEOWNERS exists
  - name: has-codeowners
    command: test -f .github/CODEOWNERS || test -f CODEOWNERS || test -f docs/CODEOWNERS

  - name: codeowners-protects-eslint
    command: grep -qE "eslint|\.eslintrc" .github/CODEOWNERS
    if: .github/CODEOWNERS
